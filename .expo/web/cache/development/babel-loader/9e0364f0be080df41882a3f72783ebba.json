{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { memo, useState, useEffect } from 'react';\nimport TextInputRN from \"react-native-web/dist/exports/TextInput\";\nimport { Background } from \"../components\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { SubPageHeader, LoadingCards } from \"../components\";\nimport { theme } from \"../core/theme\";\nimport TokenCard from \"../components/TokenCard\";\nimport { useStoreState } from \"../hooks/storeHooks\";\nimport { SvgXml } from 'react-native-svg';\nimport chartSVG from \"../assets/icons/chart\";\nReact.createElement(SvgXml, {\n  xml: chartSVG,\n  width: \"100%\",\n  height: \"125\"\n});\n\nvar SearchTokensScreen = function SearchTokensScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var allTokens = useStoreState(function (state) {\n    return state.allTokens;\n  });\n  console.log('allTokens: ', allTokens);\n\n  var _useState3 = useState(allTokens),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredTokens = _useState4[0],\n      setFilteredTokens = _useState4[1];\n\n  var searchFilter = function searchFilter(allTokens) {\n    return allTokens.filter(function (token) {\n      return token.symbol.toLowerCase().includes(search.toLowerCase()) || token.name.toLowerCase().includes(search.toLowerCase());\n    });\n  };\n\n  var renderItem = function renderItem(token) {\n    return React.createElement(TokenCard, {\n      token: token,\n      onPress: function onPress() {\n        return navigation.navigate('Token Details', token.item);\n      }\n    });\n  };\n\n  useEffect(function () {\n    if (allTokens) {\n      setFilteredTokens(searchFilter(allTokens));\n    }\n  }, [search, allTokens]);\n\n  if (!allTokens) {\n    return React.createElement(Background, {\n      dismissKeyboard: true\n    }, React.createElement(View, {\n      style: {\n        marginBottom: 24\n      }\n    }, React.createElement(SubPageHeader, {\n      backButton: false\n    }, \"Browse Tokens\"), React.createElement(View, {\n      style: {\n        marginBottom: 16\n      }\n    }, React.createElement(View, {\n      style: {\n        height: 64,\n        borderWidth: 1,\n        borderColor: theme.colors.black_seven,\n        borderRadius: 18,\n        padding: 16,\n        flexDirection: 'row',\n        alignItems: 'center'\n      }\n    }, React.createElement(Image, {\n      source: require(\"../assets/icons/Search.png\"),\n      style: {\n        width: 24,\n        height: 24,\n        marginRight: 8\n      }\n    }), React.createElement(TextInputRN, {\n      style: _objectSpread({\n        borderColor: 'black',\n        borderWidth: 0\n      }, theme.fonts.Nunito_Sans.Body_M_Regular),\n      onChangeText: function onChangeText(text) {\n        return setSearch(text);\n      },\n      value: search,\n      placeholder: \"Search token name or symbol\",\n      keyboardType: \"default\"\n    }))), React.createElement(LoadingCards, null)));\n  }\n\n  return React.createElement(Background, {\n    dismissKeyboard: true\n  }, React.createElement(View, {\n    style: {\n      marginBottom: 24\n    }\n  }, React.createElement(SubPageHeader, {\n    backButton: false\n  }, \"Browse Tokens\"), React.createElement(View, {\n    style: {\n      height: 64,\n      borderWidth: 1,\n      borderColor: theme.colors.black_seven,\n      borderRadius: 18,\n      padding: 16,\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/icons/Search.png\"),\n    style: {\n      width: 24,\n      height: 24,\n      marginRight: 8\n    }\n  }), React.createElement(TextInputRN, {\n    style: _objectSpread({\n      borderColor: 'black',\n      borderWidth: 0\n    }, theme.fonts.Nunito_Sans.Body_M_Regular),\n    onChangeText: function onChangeText(text) {\n      return setSearch(text);\n    },\n    value: search,\n    placeholder: \"Search token name or symbol\",\n    keyboardType: \"default\"\n  }))), filteredTokens ? React.createElement(FlatList, {\n    data: filteredTokens,\n    renderItem: renderItem,\n    initialNumToRender: 10,\n    maxToRenderPerBatch: 10,\n    keyExtractor: function keyExtractor(item) {\n      return item.address;\n    }\n  }) : null);\n};\n\nexport default memo(SearchTokensScreen);","map":{"version":3,"names":["React","memo","useState","useEffect","Background","SubPageHeader","LoadingCards","theme","TokenCard","useStoreState","SvgXml","chartSVG","SearchTokensScreen","navigation","search","setSearch","allTokens","state","console","log","filteredTokens","setFilteredTokens","searchFilter","filter","token","symbol","toLowerCase","includes","name","renderItem","navigate","item","marginBottom","height","borderWidth","borderColor","colors","black_seven","borderRadius","padding","flexDirection","alignItems","require","width","marginRight","fonts","Nunito_Sans","Body_M_Regular","text","address"],"sources":["/workspace/stream-pay-mobile-wallet-app/screens/SearchTokensScreen.tsx"],"sourcesContent":["import React, { memo, useState, useEffect } from 'react';\nimport { Text, TouchableOpacity, TextInput as TextInputRN } from 'react-native';\nimport { Background, TextInput } from '../components';\nimport { Navigation } from '../types';\nimport { View, FlatList, Image } from 'react-native';\nimport { Card } from 'react-native-paper';\nimport { SubPageHeader, LoadingCards } from '../components';\nimport { theme } from '../core/theme';\nimport TokenCard from '../components/TokenCard';\nimport { useStoreState, useStoreActions } from '../hooks/storeHooks';\nimport { TokenListProvider, TokenInfo } from '@solana/spl-token-registry';\nimport Colors from '../constants/Colors';\nimport { SvgXml } from 'react-native-svg';\nimport chartSVG from '../assets/icons/chart';\n<SvgXml xml={chartSVG} width=\"100%\" height=\"125\" />;\n\ntype Props = {\n\tnavigation: Navigation;\n};\n\nconst SearchTokensScreen = ({ navigation }: Props) => {\n\tconst [search, setSearch] = useState('');\n\tconst allTokens = useStoreState((state) => state.allTokens);\n\tconsole.log('allTokens: ', allTokens);\n\tconst [filteredTokens, setFilteredTokens] = useState(allTokens);\n\n\tconst searchFilter = (allTokens) => {\n\t\treturn allTokens.filter((token) => {\n\t\t\treturn (\n\t\t\t\ttoken.symbol.toLowerCase().includes(search.toLowerCase()) ||\n\t\t\t\ttoken.name.toLowerCase().includes(search.toLowerCase())\n\t\t\t);\n\t\t});\n\t};\n\n\tconst renderItem = (token) => (\n\t\t<TokenCard\n\t\t\ttoken={token}\n\t\t\tonPress={() => navigation.navigate('Token Details', token.item)}\n\t\t/>\n\t);\n\n\tuseEffect(() => {\n\t\tif (allTokens) {\n\t\t\tsetFilteredTokens(searchFilter(allTokens));\n\t\t}\n\t}, [search, allTokens]);\n\n\tif (!allTokens) {\n\t\treturn (\n\t\t\t<Background dismissKeyboard={true}>\n\t\t\t\t<View style={{ marginBottom: 24 }}>\n\t\t\t\t\t<SubPageHeader backButton={false}>\n\t\t\t\t\t\tBrowse Tokens\n\t\t\t\t\t</SubPageHeader>\n\t\t\t\t\t<View style={{ marginBottom: 16 }}>\n\t\t\t\t\t\t<View\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: 64,\n\t\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\t\tborderColor: theme.colors.black_seven,\n\t\t\t\t\t\t\t\tborderRadius: 18,\n\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tsource={require('../assets/icons/Search.png')}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: 24,\n\t\t\t\t\t\t\t\t\theight: 24,\n\t\t\t\t\t\t\t\t\tmarginRight: 8,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<TextInputRN\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tborderColor: 'black',\n\t\t\t\t\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans.Body_M_Regular,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChangeText={(text: string) => setSearch(text)}\n\t\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\t\tplaceholder=\"Search token name or symbol\"\n\t\t\t\t\t\t\t\tkeyboardType=\"default\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t\t<LoadingCards />\n\t\t\t\t</View>\n\t\t\t</Background>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Background dismissKeyboard={true}>\n\t\t\t<View style={{ marginBottom: 24 }}>\n\t\t\t\t<SubPageHeader backButton={false}>Browse Tokens</SubPageHeader>\n\n\t\t\t\t<View\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: 64,\n\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\tborderColor: theme.colors.black_seven,\n\t\t\t\t\t\tborderRadius: 18,\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tsource={require('../assets/icons/Search.png')}\n\t\t\t\t\t\tstyle={{ width: 24, height: 24, marginRight: 8 }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextInputRN\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tborderColor: 'black',\n\t\t\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans.Body_M_Regular,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChangeText={(text: string) => setSearch(text)}\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tplaceholder=\"Search token name or symbol\"\n\t\t\t\t\t\tkeyboardType=\"default\"\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t</View>\n\n\t\t\t{filteredTokens ? (\n\t\t\t\t<FlatList\n\t\t\t\t\tdata={filteredTokens}\n\t\t\t\t\trenderItem={renderItem}\n\t\t\t\t\tinitialNumToRender={10}\n\t\t\t\t\tmaxToRenderPerBatch={10}\n\t\t\t\t\tkeyExtractor={(item) => item.address}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</Background>\n\t);\n};\n\nexport default memo(SearchTokensScreen);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}