{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { memo, useState, useMemo, useRef, useCallback, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { DevSettings } from \"react-native-web/dist/index\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Background, SubPageHeader, ThemeButton, RedButton, LoadingCards } from \"../components\";\nimport { theme } from \"../core/theme\";\nimport { useStoreState, useStoreActions } from \"../hooks/storeHooks\";\nimport { BottomSheetModal } from '@gorhom/bottom-sheet';\nimport { shortenPublicKey, normalizeNumber } from \"../utils\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as SecureStore from 'expo-secure-store';\nimport Storage from \"../storage\";\n\nvar WalletsScreen = function WalletsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var activeSubWallet = useStoreState(function (state) {\n    return state.activeSubWallet;\n  });\n  var passcode = useStoreState(function (state) {\n    return state.passcode;\n  });\n  var selectedWallet = useStoreState(function (state) {\n    return state.selectedWallet;\n  });\n  var subWallets = useStoreState(function (state) {\n    return state.subWallets;\n  });\n  var finalSubWallets = useStoreState(function (state) {\n    return state.finalSubWallets;\n  });\n  var setFinalSubWallets = useStoreActions(function (actions) {\n    return actions.setFinalSubWallets;\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      localSubWallets = _useState2[0],\n      setLocalSubWallets = _useState2[1];\n\n  var setSubWallets = useStoreActions(function (actions) {\n    return actions.setSubWallets;\n  });\n  var setSelectedWallet = useStoreActions(function (actions) {\n    return actions.setSelectedWallet;\n  });\n\n  var _useState3 = useState(selectedWallet),\n      _useState4 = _slicedToArray(_useState3, 2),\n      localSelectedWallet = _useState4[0],\n      setLocalSelectedWallet = _useState4[1];\n\n  var subWalletTokensArray = useStoreState(function (state) {\n    return state.subWalletTokensArray;\n  });\n  var bottomSheetModalRef = useRef(null);\n  var snapPoints = useMemo(function () {\n    return ['10%', '53%'];\n  }, []);\n  var handlePresentModalPress = useCallback(function () {\n    var _bottomSheetModalRef$;\n\n    (_bottomSheetModalRef$ = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$.present();\n  }, []);\n  var handleSheetChanges = useCallback(function (index) {}, []);\n\n  function summarySubWallet(subWalletTokensArray, subWallets) {\n    var totalBalance = subWalletTokensArray == null ? void 0 : subWalletTokensArray.map(function (item) {\n      var result = item == null ? void 0 : item.map(function (data) {\n        return data.amount * data.price;\n      });\n      var unformattedBalance = result == null ? void 0 : result.reduce(function (prev, current) {\n        return prev + current;\n      });\n      return normalizeNumber(unformattedBalance);\n    });\n    var newSubWallets = subWallets.map(function (item, index) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        totalBalance: totalBalance[index]\n      });\n    });\n    setLocalSubWallets(newSubWallets);\n    setFinalSubWallets(newSubWallets);\n  }\n\n  function getFirstWallet() {\n    var newWallet;\n    return _regeneratorRuntime.async(function getFirstWallet$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(subWallets.length === 0)) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Storage.getItem('firstWalletKey'));\n\n          case 3:\n            newWallet = _context.sent;\n            setSubWallets([{\n              publicKey: newWallet\n            }]);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    if (subWallets && subWalletTokensArray) {\n      summarySubWallet(subWalletTokensArray, subWallets);\n    }\n  }, [subWallets, subWalletTokensArray]);\n  useEffect(function () {\n    getFirstWallet();\n  }, []);\n\n  if (localSubWallets.length === 0) {\n    return React.createElement(Background, null, React.createElement(View, null, React.createElement(View, {\n      style: styles.screenTitle\n    }, React.createElement(SubPageHeader, null, \"Wallets\"), React.createElement(TouchableOpacity, {\n      onPress: function _callee() {\n        var _bottomSheetModalRef$2;\n\n        return _regeneratorRuntime.async(function _callee$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                (_bottomSheetModalRef$2 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$2.present();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      style: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n        borderRadius: 18,\n        padding: 8,\n        height: 40\n      }\n    }, React.createElement(Image, {\n      source: require(\"../assets/icons/logout.png\"),\n      style: {\n        width: 24,\n        height: 24\n      }\n    }))), React.createElement(LoadingCards, null)), React.createElement(BottomSheetModal, {\n      ref: bottomSheetModalRef,\n      index: 1,\n      snapPoints: snapPoints,\n      onChange: handleSheetChanges,\n      style: {\n        shadowColor: '#000',\n        shadowOffset: {\n          width: 0,\n          height: 6\n        },\n        shadowOpacity: 0.37,\n        shadowRadius: 7.49,\n        elevation: 12\n      }\n    }, React.createElement(View, {\n      style: {\n        justifyContent: 'space-between',\n        margin: 16\n      }\n    }, React.createElement(View, {\n      style: {\n        marginBottom: 24,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      }\n    }, React.createElement(Text, {\n      style: theme.fonts.Azeret_Mono.Header_M_SemiBold\n    }, \"Logout of Main Wallet\"), React.createElement(TouchableOpacity, {\n      onPress: function _callee2() {\n        var _bottomSheetModalRef$3;\n\n        return _regeneratorRuntime.async(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", (_bottomSheetModalRef$3 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$3.dismiss());\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    }, React.createElement(Image, {\n      source: require(\"../assets/icons/Close.png\"),\n      style: styles.iconsLeft\n    }))), React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_SemiBold), {}, {\n        marginBottom: 24\n      })\n    }, \"Please ensure that you have access to your secret phrase before logging out.\"), React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_SemiBold), {}, {\n        marginBottom: 24\n      })\n    }, \"Stream Protocol does not store it and has no ability to access it for you.\"), React.createElement(View, {\n      style: styles.removeWalletButton\n    }, React.createElement(RedButton, {\n      mode: \"contained\",\n      onPress: function _callee3() {\n        var _bottomSheetModalRef$4;\n\n        var passcodeKey;\n        return _regeneratorRuntime.async(function _callee3$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                passcodeKey = passcode + 'key';\n                _context4.next = 3;\n                return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(passcodeKey));\n\n              case 3:\n                _context4.next = 5;\n                return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(passcode));\n\n              case 5:\n                _context4.next = 7;\n                return _regeneratorRuntime.awrap(AsyncStorage.removeItem('hasAccount'));\n\n              case 7:\n                DevSettings.reload();\n                (_bottomSheetModalRef$4 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$4.dismiss();\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    }, \"Yes, Logout of Wallet\")), React.createElement(View, {\n      style: styles.setAsActiveButton\n    }, React.createElement(ThemeButton, {\n      onPress: function _callee4() {\n        var _bottomSheetModalRef$5;\n\n        return _regeneratorRuntime.async(function _callee4$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", (_bottomSheetModalRef$5 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$5.dismiss());\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    }, \"No, Stay Logged In\")))));\n  }\n\n  if (subWallets.length === 0) {\n    return React.createElement(Text, null, \"Loading...\");\n  }\n\n  return React.createElement(Background, null, React.createElement(View, null, React.createElement(View, {\n    style: styles.screenTitle\n  }, React.createElement(SubPageHeader, null, \"Wallets\"), React.createElement(TouchableOpacity, {\n    onPress: function _callee5() {\n      var _bottomSheetModalRef$6;\n\n      return _regeneratorRuntime.async(function _callee5$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              (_bottomSheetModalRef$6 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$6.present();\n\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    style: {\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 18,\n      padding: 8,\n      height: 40\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/icons/logout.png\"),\n    style: {\n      width: 24,\n      height: 24\n    }\n  }))), localSubWallets.map(function (finalSubWallet, index) {\n    return React.createElement(TouchableOpacity, {\n      key: index,\n      style: styles.pressableContainer,\n      onPress: function onPress() {\n        navigation.navigate('Wallet Details');\n        setLocalSelectedWallet(index);\n        setSelectedWallet(index);\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center'\n      }\n    }, React.createElement(Image, {\n      source: require(\"../assets/icons/wallet_gray.png\"),\n      style: styles.icons\n    }), React.createElement(View, null, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: 4\n      }\n    }, React.createElement(Text, {\n      style: styles.cardTitle\n    }, finalSubWallet.subWalletName), activeSubWallet === index && React.createElement(View, {\n      style: _objectSpread(_objectSpread({}, styles.activeContainer), {}, {\n        marginLeft: 4\n      })\n    }, React.createElement(Text, {\n      style: styles.active\n    }, \"Active Wallet\"))), React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center'\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_Bold), {}, {\n        color: '#1F1F1F',\n        marginBottom: 4\n      })\n    }, \"$\", finalSubWallet.totalBalance), React.createElement(Image, {\n      source: require(\"../assets/icons/Bullet.png\"),\n      style: {\n        marginLeft: 4\n      }\n    }), React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, styles.address), {}, {\n        marginLeft: 4\n      })\n    }, shortenPublicKey(finalSubWallet.publicKey, 0, 4, -4))))), React.createElement(View, null));\n  })), React.createElement(BottomSheetModal, {\n    ref: bottomSheetModalRef,\n    index: 1,\n    snapPoints: snapPoints,\n    onChange: handleSheetChanges,\n    style: {\n      shadowColor: '#000',\n      shadowOffset: {\n        width: 0,\n        height: 6\n      },\n      shadowOpacity: 0.37,\n      shadowRadius: 7.49,\n      elevation: 12\n    }\n  }, React.createElement(View, {\n    style: {\n      justifyContent: 'space-between',\n      margin: 16\n    }\n  }, React.createElement(View, {\n    style: {\n      marginBottom: 24,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    }\n  }, React.createElement(Text, {\n    style: theme.fonts.Azeret_Mono.Header_M_SemiBold\n  }, \"Logout of Main Wallet\"), React.createElement(TouchableOpacity, {\n    onPress: function _callee6() {\n      var _bottomSheetModalRef$7;\n\n      return _regeneratorRuntime.async(function _callee6$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              (_bottomSheetModalRef$7 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$7.dismiss();\n\n            case 1:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/icons/Close.png\"),\n    style: styles.iconsLeft\n  }))), React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_SemiBold), {}, {\n      marginBottom: 24\n    })\n  }, \"Please ensure that you have access to your secret phrase before logging out.\"), React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_SemiBold), {}, {\n      marginBottom: 24\n    })\n  }, \"Stream Protocol does not store it and has no ability to access it for you.\"), React.createElement(View, {\n    style: styles.removeWalletButton\n  }, React.createElement(RedButton, {\n    mode: \"contained\",\n    onPress: function _callee7() {\n      var _bottomSheetModalRef$8;\n\n      var passcodeKey;\n      return _regeneratorRuntime.async(function _callee7$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              passcodeKey = passcode + 'key';\n              _context8.next = 3;\n              return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(passcodeKey));\n\n            case 3:\n              _context8.next = 5;\n              return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(passcode));\n\n            case 5:\n              _context8.next = 7;\n              return _regeneratorRuntime.awrap(AsyncStorage.removeItem('hasAccount'));\n\n            case 7:\n              DevSettings.reload();\n              (_bottomSheetModalRef$8 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$8.dismiss();\n\n            case 9:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, \"Yes, Logout of Wallet\")), React.createElement(View, {\n    style: styles.setAsActiveButton\n  }, React.createElement(ThemeButton, {\n    onPress: function _callee8() {\n      var _bottomSheetModalRef$9;\n\n      return _regeneratorRuntime.async(function _callee8$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              (_bottomSheetModalRef$9 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$9.dismiss();\n              console.log('closed');\n\n            case 2:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, \"No, Stay Logged In\")))));\n};\n\nvar styles = StyleSheet.create({\n  screenTitle: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  cardTitle: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_Bold), {}, {\n    color: theme.colors.black_one\n  }),\n  icons: {\n    width: 40,\n    height: 40,\n    marginRight: 16\n  },\n  active: _objectSpread({}, theme.fonts.Nunito_Sans.Caption_S_SemiBold),\n  activeContainer: {\n    backgroundColor: theme.colors.success_three,\n    borderRadius: 6,\n    paddingHorizontal: 8,\n    paddingVertical: 3\n  },\n  subTitle: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Body_M_SemiBold), {}, {\n    color: theme.colors.black_one\n  }),\n  address: _objectSpread(_objectSpread({}, theme.fonts.Nunito_Sans.Caption_M_SemiBold), {}, {\n    color: theme.colors.black_five,\n    marginLeft: 4\n  }),\n  container: {\n    flex: 1,\n    width: '100%',\n    flexDirection: 'row',\n    alignContent: 'space-between',\n    paddingHorizontal: 40\n  },\n  row: {\n    flex: 1\n  },\n  pressableContainer: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 18,\n    flexDirection: 'row',\n    padding: 16,\n    alignItems: 'center',\n    marginBottom: 8,\n    justifyContent: 'space-between'\n  },\n  iconsLeft: {\n    width: 40,\n    height: 40,\n    marginRight: 16\n  },\n  removeWalletButton: {\n    marginBottom: 16\n  },\n  setAsActiveButton: {\n    marginBottom: 24\n  }\n});\nexport default memo(WalletsScreen);","map":{"version":3,"names":["React","memo","useState","useMemo","useRef","useCallback","useEffect","DevSettings","Background","SubPageHeader","ThemeButton","RedButton","LoadingCards","theme","useStoreState","useStoreActions","BottomSheetModal","shortenPublicKey","normalizeNumber","AsyncStorage","SecureStore","Storage","WalletsScreen","navigation","activeSubWallet","state","passcode","selectedWallet","subWallets","finalSubWallets","setFinalSubWallets","actions","localSubWallets","setLocalSubWallets","setSubWallets","setSelectedWallet","localSelectedWallet","setLocalSelectedWallet","subWalletTokensArray","bottomSheetModalRef","snapPoints","handlePresentModalPress","current","present","handleSheetChanges","index","summarySubWallet","totalBalance","map","item","result","data","amount","price","unformattedBalance","reduce","prev","newSubWallets","getFirstWallet","length","getItem","newWallet","publicKey","styles","screenTitle","borderWidth","borderColor","colors","border","borderRadius","padding","height","require","width","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","justifyContent","margin","marginBottom","flexDirection","alignItems","fonts","Azeret_Mono","Header_M_SemiBold","dismiss","iconsLeft","Nunito_Sans","Body_M_SemiBold","removeWalletButton","passcodeKey","deleteItemAsync","removeItem","reload","setAsActiveButton","finalSubWallet","pressableContainer","navigate","icons","cardTitle","subWalletName","activeContainer","marginLeft","active","Body_M_Bold","color","address","console","log","StyleSheet","create","black_one","marginRight","Caption_S_SemiBold","backgroundColor","success_three","paddingHorizontal","paddingVertical","subTitle","Caption_M_SemiBold","black_five","container","flex","alignContent","row"],"sources":["/workspace/stream-pay-mobile-wallet-app/screens/WalletsScreen.tsx"],"sourcesContent":["import React, {\n\tmemo,\n\tuseState,\n\tuseMemo,\n\tuseRef,\n\tuseCallback,\n\tuseEffect,\n} from 'react';\nimport {\n\tText,\n\tStyleSheet,\n\tDevSettings,\n\tView,\n\tImage,\n\tTouchableOpacity,\n} from 'react-native';\nimport {\n\tBackground,\n\tSubPageHeader,\n\tThemeButton,\n\tRedButton,\n\tLoadingCards,\n} from '../components';\nimport { Navigation } from '../types';\nimport { theme } from '../core/theme';\nimport { useStoreState, useStoreActions } from '../hooks/storeHooks';\nimport { BottomSheetModal } from '@gorhom/bottom-sheet';\nimport { shortenPublicKey, normalizeNumber } from '../utils';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as SecureStore from 'expo-secure-store';\nimport Storage from '../storage';\nimport { Indexed } from 'ethers/lib/utils';\n\ntype Props = {\n\tnavigation: Navigation;\n};\n\nconst WalletsScreen = ({ navigation }: Props) => {\n\tconst activeSubWallet = useStoreState((state) => state.activeSubWallet);\n\tconst passcode = useStoreState((state) => state.passcode);\n\tconst selectedWallet = useStoreState((state) => state.selectedWallet);\n\tconst subWallets = useStoreState((state) => state.subWallets);\n\n\tconst finalSubWallets = useStoreState((state) => state.finalSubWallets);\n\tconst setFinalSubWallets = useStoreActions(\n\t\t(actions) => actions.setFinalSubWallets,\n\t);\n\tconst [localSubWallets, setLocalSubWallets] = useState([]);\n\n\tconst setSubWallets = useStoreActions((actions) => actions.setSubWallets);\n\tconst setSelectedWallet = useStoreActions(\n\t\t(actions) => actions.setSelectedWallet,\n\t);\n\tconst [localSelectedWallet, setLocalSelectedWallet] =\n\t\tuseState(selectedWallet);\n\tconst subWalletTokensArray = useStoreState(\n\t\t(state) => state.subWalletTokensArray,\n\t);\n\n\tconst bottomSheetModalRef = useRef<BottomSheetModal>(null);\n\tconst snapPoints = useMemo(() => ['10%', '53%'], []);\n\tconst handlePresentModalPress = useCallback(() => {\n\t\tbottomSheetModalRef.current?.present();\n\t}, []);\n\n\tconst handleSheetChanges = useCallback((index: number) => {\n\t\t//console.log('handleSheetChanges', index)\n\t}, []);\n\n\tfunction summarySubWallet(subWalletTokensArray: any, subWallets: any) {\n\t\tconst totalBalance = subWalletTokensArray?.map((item) => {\n\t\t\tconst result = item?.map((data) => {\n\t\t\t\treturn data.amount * data.price;\n\t\t\t});\n\t\t\tconst unformattedBalance = result?.reduce(\n\t\t\t\t(prev, current) => prev + current,\n\t\t\t);\n\t\t\treturn normalizeNumber(unformattedBalance);\n\t\t});\n\t\tconst newSubWallets = subWallets.map((item, index) => {\n\t\t\treturn {\n\t\t\t\t...item,\n\t\t\t\ttotalBalance: totalBalance[index],\n\t\t\t};\n\t\t});\n\t\tsetLocalSubWallets(newSubWallets);\n\t\tsetFinalSubWallets(newSubWallets);\n\t}\n\n\tasync function getFirstWallet() {\n\t\tif (subWallets.length === 0) {\n\t\t\tconst newWallet = await Storage.getItem('firstWalletKey');\n\t\t\tsetSubWallets([{ publicKey: newWallet }]);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (subWallets && subWalletTokensArray) {\n\t\t\tsummarySubWallet(subWalletTokensArray, subWallets);\n\t\t}\n\t}, [subWallets, subWalletTokensArray]);\n\n\tuseEffect(() => {\n\t\tgetFirstWallet();\n\t}, []);\n\n\tif (localSubWallets.length === 0) {\n\t\treturn (\n\t\t\t<Background>\n\t\t\t\t<View>\n\t\t\t\t\t<View style={styles.screenTitle}>\n\t\t\t\t\t\t<SubPageHeader>Wallets</SubPageHeader>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.present();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\t\tborderColor: theme.colors.border,\n\t\t\t\t\t\t\t\tborderRadius: 18,\n\t\t\t\t\t\t\t\tpadding: 8,\n\t\t\t\t\t\t\t\theight: 40,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tsource={require('../assets/icons/logout.png')}\n\t\t\t\t\t\t\t\tstyle={{ width: 24, height: 24 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t\t<LoadingCards />\n\t\t\t\t</View>\n\t\t\t\t<BottomSheetModal\n\t\t\t\t\tref={bottomSheetModalRef}\n\t\t\t\t\tindex={1}\n\t\t\t\t\tsnapPoints={snapPoints}\n\t\t\t\t\tonChange={handleSheetChanges}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t// margin: 16,\n\t\t\t\t\t\tshadowColor: '#000',\n\t\t\t\t\t\tshadowOffset: {\n\t\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\t\theight: 6,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshadowOpacity: 0.37,\n\t\t\t\t\t\tshadowRadius: 7.49,\n\t\t\t\t\t\televation: 12,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\t\tmargin: 16,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<View\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tmarginBottom: 24,\n\t\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\ttheme.fonts.Azeret_Mono.Header_M_SemiBold\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLogout of Main Wallet\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\t\tonPress={async () =>\n\t\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsource={require('../assets/icons/Close.png')}\n\t\t\t\t\t\t\t\t\tstyle={styles.iconsLeft}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans.Body_M_SemiBold,\n\t\t\t\t\t\t\t\tmarginBottom: 24,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPlease ensure that you have access to your secret\n\t\t\t\t\t\t\tphrase before logging out.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans.Body_M_SemiBold,\n\t\t\t\t\t\t\t\tmarginBottom: 24,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStream Protocol does not store it and has no ability to\n\t\t\t\t\t\t\taccess it for you.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View style={styles.removeWalletButton}>\n\t\t\t\t\t\t\t<RedButton\n\t\t\t\t\t\t\t\tmode=\"contained\"\n\t\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\t\tconst passcodeKey = passcode + 'key';\n\t\t\t\t\t\t\t\t\tawait SecureStore.deleteItemAsync(\n\t\t\t\t\t\t\t\t\t\tpasscodeKey,\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tawait SecureStore.deleteItemAsync(passcode);\n\t\t\t\t\t\t\t\t\tawait AsyncStorage.removeItem('hasAccount');\n\t\t\t\t\t\t\t\t\tDevSettings.reload();\n\t\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tYes, Logout of Wallet\n\t\t\t\t\t\t\t</RedButton>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={styles.setAsActiveButton}>\n\t\t\t\t\t\t\t<ThemeButton\n\t\t\t\t\t\t\t\tonPress={async () =>\n\t\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tNo, Stay Logged In\n\t\t\t\t\t\t\t</ThemeButton>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</BottomSheetModal>\n\t\t\t</Background>\n\t\t);\n\t}\n\n\tif (subWallets.length === 0) {\n\t\treturn <Text>Loading...</Text>;\n\t}\n\n\treturn (\n\t\t<Background>\n\t\t\t<View>\n\t\t\t\t<View style={styles.screenTitle}>\n\t\t\t\t\t<SubPageHeader>Wallets</SubPageHeader>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\tbottomSheetModalRef.current?.present();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\tborderColor: theme.colors.border,\n\t\t\t\t\t\t\tborderRadius: 18,\n\t\t\t\t\t\t\tpadding: 8,\n\t\t\t\t\t\t\theight: 40,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\tsource={require('../assets/icons/logout.png')}\n\t\t\t\t\t\t\tstyle={{ width: 24, height: 24 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t\t{/* <TouchableOpacity\n\t\t\t\t\tstyle={styles.pressableContainer}\n\t\t\t\t\t//onPress={() => navigation.navigate('Onboarding')}\n\t\t\t\t>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tsource={require('../assets/icons/green_plus.png')}\n\t\t\t\t\t\tstyle={styles.icons}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Text style={styles.cardTitle}>Add Subwallet</Text>\n\t\t\t\t</TouchableOpacity> */}\n\n\t\t\t\t{localSubWallets.map((finalSubWallet, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tstyle={styles.pressableContainer}\n\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\tnavigation.navigate('Wallet Details');\n\t\t\t\t\t\t\t\tsetLocalSelectedWallet(index);\n\t\t\t\t\t\t\t\tsetSelectedWallet(index);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsource={require('../assets/icons/wallet_gray.png')}\n\t\t\t\t\t\t\t\t\tstyle={styles.icons}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Text style={styles.cardTitle}>\n\t\t\t\t\t\t\t\t\t\t\t{finalSubWallet.subWalletName}\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t{activeSubWallet === index && (\n\t\t\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...styles.activeContainer,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: 4,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Text style={styles.active}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tActive Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans\n\t\t\t\t\t\t\t\t\t\t\t\t\t.Body_M_Bold,\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#1F1F1F',\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t${finalSubWallet.totalBalance}\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\tsource={require('../assets/icons/Bullet.png')}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: 4 }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t...styles.address,\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: 4,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{shortenPublicKey(\n\t\t\t\t\t\t\t\t\t\t\t\tfinalSubWallet.publicKey,\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t4,\n\t\t\t\t\t\t\t\t\t\t\t\t-4,\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View></View>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</View>\n\t\t\t<BottomSheetModal\n\t\t\t\tref={bottomSheetModalRef}\n\t\t\t\tindex={1}\n\t\t\t\tsnapPoints={snapPoints}\n\t\t\t\tonChange={handleSheetChanges}\n\t\t\t\tstyle={{\n\t\t\t\t\t// margin: 16,\n\t\t\t\t\tshadowColor: '#000',\n\t\t\t\t\tshadowOffset: {\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 6,\n\t\t\t\t\t},\n\t\t\t\t\tshadowOpacity: 0.37,\n\t\t\t\t\tshadowRadius: 7.49,\n\t\t\t\t\televation: 12,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<View\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\tmargin: 16,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginBottom: 24,\n\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text style={theme.fonts.Azeret_Mono.Header_M_SemiBold}>\n\t\t\t\t\t\t\tLogout of Main Wallet\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tsource={require('../assets/icons/Close.png')}\n\t\t\t\t\t\t\t\tstyle={styles.iconsLeft}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans.Body_M_SemiBold,\n\t\t\t\t\t\t\tmarginBottom: 24,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tPlease ensure that you have access to your secret phrase\n\t\t\t\t\t\tbefore logging out.\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t...theme.fonts.Nunito_Sans.Body_M_SemiBold,\n\t\t\t\t\t\t\tmarginBottom: 24,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tStream Protocol does not store it and has no ability to access\n\t\t\t\t\t\tit for you.\n\t\t\t\t\t</Text>\n\t\t\t\t\t<View style={styles.removeWalletButton}>\n\t\t\t\t\t\t<RedButton\n\t\t\t\t\t\t\tmode=\"contained\"\n\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\tconst passcodeKey = passcode + 'key';\n\t\t\t\t\t\t\t\tawait SecureStore.deleteItemAsync(passcodeKey);\n\t\t\t\t\t\t\t\tawait SecureStore.deleteItemAsync(passcode);\n\t\t\t\t\t\t\t\tawait AsyncStorage.removeItem('hasAccount');\n\t\t\t\t\t\t\t\tDevSettings.reload();\n\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYes, Logout of Wallet\n\t\t\t\t\t\t</RedButton>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={styles.setAsActiveButton}>\n\t\t\t\t\t\t{/* <TouchableOpacity\n\t\t\t\t\t\t\tstyle={{borderRadius: 20, height: 56, backgroundColor: '#141e30', justifyContent: 'center', alignItems: 'center', borderColor: theme.colors.black_one, borderWidth: 1,}}\n\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss()\n\t\t\t\t\t\t\t\tconsole.log('closed')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tstyle={{...theme.fonts.Azeret_Mono.Body_M_Bold, lineHeight: 26, color: '#536976', justifyContent: 'center',}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tNo, Stay Logged In\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</TouchableOpacity> */}\n\t\t\t\t\t\t<ThemeButton\n\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\tbottomSheetModalRef.current?.dismiss();\n\t\t\t\t\t\t\t\tconsole.log('closed');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNo, Stay Logged In\n\t\t\t\t\t\t</ThemeButton>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t</BottomSheetModal>\n\t\t</Background>\n\t);\n};\n\nconst styles = StyleSheet.create({\n\tscreenTitle: {\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t\talignItems: 'center',\n\t\tmarginBottom: 20,\n\t},\n\tcardTitle: {\n\t\t...theme.fonts.Nunito_Sans.Body_M_Bold,\n\t\tcolor: theme.colors.black_one,\n\t},\n\ticons: {\n\t\twidth: 40,\n\t\theight: 40,\n\t\tmarginRight: 16,\n\t},\n\tactive: {\n\t\t...theme.fonts.Nunito_Sans.Caption_S_SemiBold,\n\t},\n\tactiveContainer: {\n\t\tbackgroundColor: theme.colors.success_three,\n\t\tborderRadius: 6,\n\t\tpaddingHorizontal: 8,\n\t\tpaddingVertical: 3,\n\t},\n\tsubTitle: {\n\t\t...theme.fonts.Nunito_Sans.Body_M_SemiBold,\n\t\tcolor: theme.colors.black_one,\n\t},\n\taddress: {\n\t\t...theme.fonts.Nunito_Sans.Caption_M_SemiBold,\n\t\tcolor: theme.colors.black_five,\n\t\tmarginLeft: 4,\n\t},\n\tcontainer: {\n\t\tflex: 1,\n\t\twidth: '100%',\n\t\tflexDirection: 'row',\n\t\talignContent: 'space-between',\n\t\tpaddingHorizontal: 40,\n\t},\n\trow: {\n\t\tflex: 1,\n\t},\n\tpressableContainer: {\n\t\tborderColor: theme.colors.border,\n\t\tborderWidth: 1,\n\t\tborderRadius: 18,\n\t\tflexDirection: 'row',\n\t\tpadding: 16,\n\t\talignItems: 'center',\n\t\tmarginBottom: 8,\n\t\tjustifyContent: 'space-between',\n\t},\n\ticonsLeft: {\n\t\twidth: 40,\n\t\theight: 40,\n\t\tmarginRight: 16,\n\t},\n\tremoveWalletButton: {\n\t\tmarginBottom: 16,\n\t},\n\tsetAsActiveButton: {\n\t\tmarginBottom: 24,\n\t},\n});\n\nexport default memo(WalletsScreen);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}